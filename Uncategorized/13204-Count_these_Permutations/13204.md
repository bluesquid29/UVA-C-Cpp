# 題目大意

輸入一個數字 $n \leq 1000$ ，要把序列 $(1, 2, \dots, n)$ 放入序列 $(a_{1}, a_{2}, \dots, a_{n})$ ，使滿足：

$$
\left| a_{1} - 1 \right| + \left| a_{2}-2 \right| + \dots + \left| a_{n}-n \right| = \sum_{i = 1}^n \left| a_{i} - i \right| = \left\lfloor  \frac{n^{2}}{2}  \right\rfloor   
$$

請問有幾組序列成立？

# 題解

 想辦法找規律：由 $i = 4, 5$ 可以猜測規律如下：

- $n$ is odd: There are $\displaystyle{n \cdot\left[ \frac{(n-1)!}{2} \right]^{2}}$ ways
- $n$ is even: There are $\displaystyle{\left[ \frac{n!}{2} \right]^{2}}$ ways

由於數字的運算極大，因此要在善用 modular。設 $p = 10^{9} + 7$

---

因為同餘的傳遞性: $$\text{如果 } a \equiv b \pmod{p} \text{ 且 } c \equiv d \pmod{p}$$ $$\text{則 } a \times c \equiv b \times d \pmod{p}$$

因此：

$$e \times f \equiv (e \bmod p) \times (f \bmod p) \pmod{p}$$

將 $e, f$ 代入上述所有運算。

# IO

## I

```
951
952
953
954
955
956
957
958
959
960
961
962
963
964
965
966
967
968
969
970
971
972
973
974
975
976
977
978
979
980
981
982
983
984
985
986
987
988
989
990
991
992
993
994
995
996
997
998
999
1000
```

## O

```
867075868
793460040
167412828
168177415
609430205
848219885
746424268
417271973
163819307
461906227
891881046
85836878
660912940
966704885
870207501
614338118
64955948
389162824
98773817
824634620
720210420
397342095
613855733
226669396
2659553
956263171
269111529
604112057
425699666
303870371
96831865
372398252
67479154
209841120
693501758
674017873
255635996
624504040
634491241
101329867
417897497
768385376
6673027
102011798
501738303
333774099
772774379
83843329
759485090
832103280
```