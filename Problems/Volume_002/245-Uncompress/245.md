---
problem_id: 245
title: Uncompress
cpe_rank: 2
exam_dates:
  - 2013-05-28
exam_numbers:
  - "5"
topics:
  - Type/Simulation
  - DS/Linked_List
  - DS/String
solved: 1
---
# Reference

- 舊版本無 CPE 頁面保存
- [e569. 00245 - Uncompress - 高中生程式解題系統](https://zerojudge.tw/ShowProblem?problemid=e569)
- https://onlinejudge.org/external/2/245.pdf
- [Uncompress - UVA 245 - Virtual Judge](https://vjudge.net/problem/UVA-245)

# 題解

## Method 1

想像輸出過程是是在玩**堆積木抽積木 (Jenga)**，加上額外

- 每輸出一個單詞，就要堆疊新的積木。
- 遇到數字時，找到對應的那一層。抽出來
- 輸出單詞，並重新堆疊到最上層


比如說，將下列文本，按照規則堆疊

```
On the first day of Christmas

6 6 second 6 6 6 
```

| number | word      |
| ------ | --------- |
| 6      | Christmas |
| 5      | of        |
| 4      | day       |
| 3      | first     |
| 2      | the       |
| 1      | On        |

遇到第一個 `6` ，從當前位置往前數 6 格，分別是：

```
6, 5, 4, 3, 2, 1
```

因此輸出：`On`，並將它移到最上層

---

新的堆疊如下：

| number | word      |
| ------ | --------- |
| 6      | On        |
| 5      | Christmas |
| 4      | of        |
| 3      | day       |
| 2      | first     |
| 1      | the       |

我們繼續往下數，當遇到第二個 `6` ，從當前位置往前數 6 格，分別是：

```
6, 5, 4, 3, 2, 1
```

因此輸出：`the`，並將它移到最上層

---

以此類推，最後得到結果：

```
On the first day of Christmas

On the second day of Christmas 
```

## Method 2 (link-list)

Link-list 的想法是當繩子。

因為是用 Claude 寫，我也沒親自審核過，當沒看到哈哈哈。

# I/O

## Sample

```
Dear Sally,

    Please, please do it--1 would 4
Mary very, 1 much. And 4 6
8 everything in 5's power to make
14 pay off for you.

    -- Thank 2 18 18--
0
```

```
Dear Sally,

    Please, please do it--it would please
Mary very, very much. And Mary would
do everything in Mary's power to make
it pay off for you.

    -- Thank you very much--
```

## CPE

### Input

```
On the first day of Christmas
my true love sent to me:
A Partridge in a Pear Tree

18 18 second 18 18 18
18 18 18 18 18 18:
Two Turtle Doves
and 19 21 21 3 21 21

21 21 third 21 21 21
21 21 21 21 21 21:
Three French Hens
24 24 24
24 22 24 24 3 24 24

24 24 fourth 24 24 24
24 24 24 24 24 24:
Four Calling Birds*
27 27 27
27 27 27
27 25 27 27 3 27 27

27 27 fifth 27 27 27
27 27 27 27 27 27:
Five Golden Rings
30 30 30
30 30 30
30 30 30
30 28 30 30 3 30 30

30 30 sixth 30 30 30
30 30 30 30 30 30:
Six Geese 17 Laying
33 33 33
33 33 33
33 33 33
33 33 33
33 15 33 33 3 33 33

33 33 seventh 33 33 33
33 33 33 33 33 33:
Seven Swans 17 Swimming
36 36 4 36
36 36 36
36 36 36
36 36 36
36 36 36
36 15 36 36 3 36 36

36 36 eighth 36 36 36
36 36 36 36 36 36:
Eight Maids 17 Milking
39 39 4 39
39 39 4 39
39 39 39
39 39 39
39 39 39
39 39 39
39 15 39 39 3 39 39

39 39 ninth 39 39 39
39 39 39 39 39 39:
Nine Ladies Dancing
42 42 20 42
42 42 4 42
42 42 4 42
42 42 42
42 42 42
42 42 42
42 42 42
42 15 42 42 3 42 42

42 42 tenth 42 42 42
42 42 42 42 42 42:
Ten Lords 17 Leaping
45 45 45
45 45 7 45
45 45 4 45
45 45 4 45
45 45 45
45 45 45
45 45 45
45 45 45
45 15 45 45 3 45 45

45 45 eleventh 45 45 45
45 45 45 45 45 45:
Eleven Pipers Piping
48 48 20 48
48 48 48
48 48 7 48
48 48 4 48
48 48 4 48
48 48 48
48 48 48
48 48 48
48 48 48
48 15 48 48 3 48 48

48 48 twelfth 48 48 48
48 48 48 48 48 48:
twelve Drummers Drumming
51 51 51
51 51 23 51
51 51 51
51 51 7 51
51 51 4 51
51 51 4 51
51 51 51
51 51 51
51 51 51
51 51 51
51 15 51 51 3 51 51

0
```

### Output

```
On the first day of Christmas
my true love sent to me:
A Partridge in a Pear Tree

On the second day of Christmas
my true love sent to me:
Two Turtle Doves
and a Partridge in a Pear Tree

On the third day of Christmas
my true love sent to me:
Three French Hens
Two Turtle Doves
and a Partridge in a Pear Tree

On the fourth day of Christmas
my true love sent to me:
Four Calling Birds*
Three French Hens
Two Turtle Doves
and a Partridge in a Pear Tree

On the fifth day of Christmas
my true love sent to me:
Five Golden Rings
Four Calling Birds
Three French Hens
Two Turtle Doves
and a Partridge in a Pear Tree

On the sixth day of Christmas
my true love sent to me:
Six Geese a Laying
Five Golden Rings
Four Calling Birds
Three French Hens
Two Turtle Doves
and a Partridge in a Pear Tree

On the seventh day of Christmas
my true love sent to me:
Seven Swans a Swimming
Six Geese a Laying
Five Golden Rings
Four Calling Birds
Three French Hens
Two Turtle Doves
and a Partridge in a Pear Tree

On the eighth day of Christmas
my true love sent to me:
Eight Maids a Milking
Seven Swans a Swimming
Six Geese a Laying
Five Golden Rings
Four Calling Birds
Three French Hens
Two Turtle Doves
and a Partridge in a Pear Tree

On the ninth day of Christmas
my true love sent to me:
Nine Ladies Dancing
Eight Maids a Milking
Seven Swans a Swimming
Six Geese a Laying
Five Golden Rings
Four Calling Birds
Three French Hens
Two Turtle Doves
and a Partridge in a Pear Tree

On the tenth day of Christmas
my true love sent to me:
Ten Lords a Leaping
Nine Ladies Dancing
Eight Maids a Milking
Seven Swans a Swimming
Six Geese a Laying
Five Golden Rings
Four Calling Birds
Three French Hens
Two Turtle Doves
and a Partridge in a Pear Tree

On the eleventh day of Christmas
my true love sent to me:
Eleven Pipers Piping
Ten Lords a Leaping
Nine Ladies Dancing
Eight Maids a Milking
Seven Swans a Swimming
Six Geese a Laying
Five Golden Rings
Four Calling Birds
Three French Hens
Two Turtle Doves
and a Partridge in a Pear Tree

On the twelfth day of Christmas
my true love sent to me:
twelve Drummers Drumming
Eleven Pipers Piping
Ten Lords a Leaping
Nine Ladies Dancing
Eight Maids a Milking
Seven Swans a Swimming
Six Geese a Laying
Five Golden Rings
Four Calling Birds
Three French Hens
Two Turtle Doves
and a Partridge in a Pear Tree
```


