---
problem_id: 10025
title: The ? 1 ? 2 ? ... ? n = k problem
cpe_rank: 3
exam_dates:
  - 2016-05-24
exam_numbers:
  - "6"
topics:
  - Math/Combinatorics
  - Math/Number_Theory/Modular
solved: 1
---
# Reference

- https://cpe.mcu.edu.tw/cpe/test_data/2016-05-24
- [f467. 10025 - The ? 1 ? 2 ? ... ? n = k problem - 高中生程式解題系統](https://zerojudge.tw/ShowProblem?problemid=f467)
- https://onlinejudge.org/external/100/10025.pdf
- [The ? 1 ? 2 ? ... ? n = k problem - UVA 10025 - Virtual Judge](https://vjudge.net/problem/UVA-10025)

Other websites

- [number theory - Find all conditions for $x$ that the equation $1\pm 2 \pm 3 \pm 4 \pm \dots \pm n=x$ has a solution. - Mathematics Stack Exchange](https://math.stackexchange.com/questions/2127922/find-all-conditions-for-x-that-the-equation-1-pm-2-pm-3-pm-4-pm-dots-pm/2133359#2133359)
- [combinatorics - How many values does the expression $1 \pm 2 \pm 3 \pm \cdots \pm n$ take? - Mathematics Stack Exchange](https://math.stackexchange.com/questions/1765521/how-many-values-does-the-expression-1-pm-2-pm-3-pm-cdots-pm-n-take?noredirect=1&lq=1)
# 題解

窮舉前所有可能性：

$$
\large
\pm 1 \pm 2 \pm 3 \dots \pm n
$$

![c0d60.png (PNG Image, 683 × 265 pixels)](https://i.sstatic.net/c0d60.png)

![ATmek.png (PNG Image, 996 × 343 pixels)](https://i.sstatic.net/ATmek.png)



令 $n = i$ 時的所有組合是一個集合 $R$

$$
\large
\begin{aligned}
&R_{1} = \{ -1, 1 \} \\
&R_{2} = \{ -3, -1, 1, 3 \} \\
&R_{3} = \{ -6, -4, -2, 0, 2, 4, 6 \}
\end{aligned}
$$

我們可以注意到：

- $R_{i}$ 中的最大元素 $\displaystyle{= \frac{i \cdot (i + 1)}{2}}$ ，最小元素 $\displaystyle{= - \frac{i \cdot (i + 1)}{2}}$
- 同集合中的元素的奇偶性 (parity) 相同

因此程式的條件：

```cpp
if (sum >= k && (sum - k) % 2 == 0)
```

只要能確保 $\displaystyle{\left| k \right| \leq \frac{i \cdot (i + 1)}{2}}$ 且與此集合有相同的奇偶性，即得所求

# I/O

```
11

1000000000

-1000000000

999999999

-999999999

9999999

-999999

0

1

-1

2

-2
```

```
44723

44723

44721

44721

4473

1414

3

1

1

3

3
```