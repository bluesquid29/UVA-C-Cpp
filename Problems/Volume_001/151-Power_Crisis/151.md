---
problem_id: 151
title: Power Crisis
cpe_rank: 2
exam_dates:
  - 2013-10-01
exam_numbers:
  - "5"
topics:
  - Algo/Josephus
  - Type/Simulation
solved: 0
---
# Reference

- https://cpe.mcu.edu.tw/cpe/test_data/2013-10-01
- [q891. 151 - Power Crisis - 高中生程式解題系統](https://zerojudge.tw/ShowProblem?problemid=q891)
- https://onlinejudge.org/external/1/151.pdf
- [Power Crisis - UVA 151 - Virtual Judge](https://vjudge.net/problem/UVA-151)

# 題目大意

> 紐西蘭在冬天有一個電力危機，他們要設計一個方案：從區域 1 每間隔 m 區關閉該區電力系統，並且使得威靈頓 (第13區) 是最後一個被關閉的。

按照題目假設 $N = 17, m = 5$ ，停電順序如下圖，綠色打勾代表停電（first column, second column ...）

![[151-1.png]]

我們發現 

- $m = 5$ ，第 7 區是最後關閉。 
- $m = 7$ ，第 13 區是最後關閉。因此滿足題目需求

![[151-2.png]]

# 題解

這是非常經典的**約瑟夫環**問題

## Method 1

因為 $N < 100$ ，因此**暴力搜尋**是可以接受的。

比如說下面的搜法，1 號出局，接下來每隔 4 號出局

```
1 2 3 4 5 2 3 4 2 3 4 3 4 3

✓       ✓       ✓       ✓ ✓
```

那程式碼如下：

```cpp
bool alive[n + 1];    // 記錄每個人是否還活著
memset(alive, true, sizeof(alive));

int remaining = n;    // 剩餘人數
int current = 1;      // 當前位置
int cnt = 0;          // 報數計數器

// 1 號率先出局
alive[1] = false;
remaining--; 
printf("%d ", current);

// 當還有人存活時繼續
while (remaining > 0)
{
	// 如果當前這個人還活著
	if (alive[current])
	{
		cnt++;  // 報數加一
		
		// 如果報到第 k 個數
		if (cnt == k)
		{
			printf("%d ", current);   // 輸出出局的人
			alive[current] = false;   // 標記為出局
			remaining--;              // 剩餘人數減一
			cnt = 0;                  // 重置計數器
		}
	}
	
	// 移動到下一個位置（環狀結構）
	current++;
	if (current > n)
	{
		current = 1;
	}
}
```

---

# I/O


|     |     |
| --- | --- |
| 1   | 1   |
| 2   | 2   |
| 2   | 2   |
| 41  | 31  |


|     |     |
| --- | --- |
|     | 1   |
|     | 2   |
|     | 2   |
|     | 1   |
|     | 4   |
|     | 1   |
|     | 4   |
|     | 7   |
|     | 1   |
|     | 4   |
|     | 7   |
|     | 10  |
|     | 13  |
|     | 2   |
|     | 5   |
|     | 8   |
|     | 11  |
|     | 14  |
|     | 17  |
|     | 20  |
|     | 2   |
|     | 5   |
|     | 8   |
|     | 11  |
|     | 14  |
|     | 17  |
|     | 20  |
|     | 23  |
|     | 26  |
|     | 29  |
|     | 1   |
|     | 4   |
|     | 7   |
|     | 10  |
|     | 13  |
|     | 16  |
|     | 19  |
|     | 22  |
|     | 25  |
|     | 28  |
|     | 31  |


| $N$ | last |     | $N$ | last |     | $N$ | last |     | $N$ | last |
| --- | ---- | --- | --- | ---- | --- | --- | ---- | --- | --- | ---- |
| 1   | 1    |     | 11  | 7    |     | 21  | 2    |     | 31  | 1    |
| 2   | 2    |     | 12  | 10   |     | 22  | 5    |     | 32  | 4    |
| 3   | 2    |     | 13  | 13   |     | 23  | 8    |     | 33  | 7    |
| 4   | 1    |     | 14  | 2    |     | 24  | 11   |     | 34  | 10   |
| 5   | 4    |     | 15  | 5    |     | 25  | 14   |     | 35  | 13   |
| 6   | 1    |     | 16  | 8    |     | 26  | 17   |     | 36  | 16   |
| 7   | 4    |     | 17  | 11   |     | 27  | 20   |     | 37  | 19   |
| 8   | 7    |     | 18  | 14   |     | 28  | 23   |     | 38  | 22   |
| 9   | 1    |     | 19  | 17   |     | 29  | 26   |     | 39  | 25   |
| 10  | 4    |     | 20  | 20   |     | 30  | 29   |     | 40  | 28   |
|     |      |     |     |      |     |     |      |     | 41  | 31   |
|     |      |     |     |      |     |     |      |     |     |      |
|     |      |     |     |      |     |     |      |     |     |      |
|     |      |     |     |      |     |     |      |     |     |      |
|     |      |     |     |      |     |     |      |     |     |      |
|     |      |     |     |      |     |     |      |     |     |      |
|     |      |     |     |      |     |     |      |     |     |      |
|     |      |     |     |      |     |     |      |     |     |      |
|     |      |     |     |      |     |     |      |     |     |      |
|     |      |     |     |      |     |     |      |     |     |      |
| 21  | 2    |     |     |      |     |     |      |     |     |      |
| 22  | 5    |     |     |      |     |     |      |     |     |      |
| 23  | 8    |     |     |      |     |     |      |     |     |      |
| 24  | 11   |     |     |      |     |     |      |     |     |      |
| 25  | 14   |     |     |      |     |     |      |     |     |      |
| 26  | 17   |     |     |      |     |     |      |     |     |      |
| 27  | 20   |     |     |      |     |     |      |     |     |      |
| 28  | 23   |     |     |      |     |     |      |     |     |      |
| 29  | 26   |     |     |      |     |     |      |     |     |      |
| 30  | 29   |     |     |      |     |     |      |     |     |      |
| 31  | 1    |     |     |      |     |     |      |     |     |      |
| 32  | 4    |     |     |      |     |     |      |     |     |      |
| 33  | 7    |     |     |      |     |     |      |     |     |      |
| 34  | 10   |     |     |      |     |     |      |     |     |      |
| 35  | 13   |     |     |      |     |     |      |     |     |      |
| 36  | 16   |     |     |      |     |     |      |     |     |      |
| 37  | 19   |     |     |      |     |     |      |     |     |      |
| 38  | 22   |     |     |      |     |     |      |     |     |      |
| 39  | 25   |     |     |      |     |     |      |     |     |      |
| 40  | 28   |     |     |      |     |     |      |     |     |      |
| 41  | 31   |     |     |      |     |     |      |     |     |      |
